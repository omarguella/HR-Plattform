<div class="card p-2 w-75">
	<div class="card-header">
		<h3 class="title">Social Performance Evaluation</h3>
		<div *ngIf="salesman" class="salesman-info">
			<h5><b>Fullname:</b> {{salesman.firstname + ' ' + salesman.lastname}}</h5>
			<h5><b>Employee ID:</b> {{salesman.code}}</h5>
			<h5><b>Department:</b> {{salesman.department}}</h5>
		</div>

	</div>
	<div class="card-body">
		<table mat-table [dataSource]="socialRecords" class="mat-elevation-z8">
			<ng-container matColumnDef="description">
				<th mat-header-cell *matHeaderCellDef>Description</th>
				<td mat-cell *matCellDef="let element"> {{element.description}} </td>
			</ng-container>
			<ng-container matColumnDef="targetValue">
				<th mat-header-cell *matHeaderCellDef>Target Value</th>
				<td mat-cell *matCellDef="let element"> {{element.targetValue}} </td>
			</ng-container>
			<ng-container matColumnDef="actualValue">
				<th mat-header-cell *matHeaderCellDef>Actual Value</th>
				<td mat-cell *matCellDef="let element"> {{element.actualValue}} </td>
			</ng-container>
			<ng-container matColumnDef="bonus">
				<th mat-header-cell *matHeaderCellDef>Bonus</th>
				<td mat-cell *matCellDef="let element"> {{element.bonus}} </td>
			</ng-container>
			<ng-container matColumnDef="comment">
				<th mat-header-cell *matHeaderCellDef>Comment</th>
				<td mat-cell *matCellDef="let element"> {{element.comment}} </td>
			</ng-container>
			<ng-container matColumnDef="action">
				<th mat-header-cell *matHeaderCellDef> Action</th>
				<td mat-cell *matCellDef="let element">
					<button  mat-raised-button color="primary" class="actionBtn">EDIT</button>
					<button (click)="deleteSocialRecord(element._id)" mat-raised-button color="warn"
									class="actionBtn">DELETE
					</button>
				</td>
			</ng-container>
			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
		</table>

		<div class="add-social-record">
			<mat-form-field class="example-form-field" >
				<mat-label>Description *</mat-label>
				<input matInput type="text" [(ngModel)]="newDescription">
				<button *ngIf="newDescription" matSuffix mat-icon-button aria-label="Clear" (click)="newDescription=''">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field class="example-form-field" >
				<mat-label>Year *</mat-label>
				<input matInput type="number" [(ngModel)]="newYear">
				<button *ngIf="newYear" matSuffix mat-icon-button aria-label="Clear" (click)="newYear=undefined">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field class="example-form-field" >
				<mat-label>Target Value *</mat-label>
				<input matInput type="number" [(ngModel)]="newTargetValue" (input)="handleChange()">
				<button *ngIf="newTargetValue" matSuffix mat-icon-button aria-label="Clear" (click)="newTargetValue=undefined">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field class="example-form-field" >
				<mat-label>Acutal Value *</mat-label>
				<input matInput type="number" [(ngModel)]="newActualValue" (input)="handleChange()">
				<button *ngIf="newActualValue" matSuffix mat-icon-button aria-label="Clear" (click)="newActualValue=undefined">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field class="example-form-field" >
				<mat-label>Bonus *</mat-label>
				<input matInput type="number" [(ngModel)]="newBonus">
				<button *ngIf="newBonus" matSuffix mat-icon-button aria-label="Clear" (click)="newBonus=undefined">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field class="example-form-field" >
				<mat-label>Comment</mat-label>
				<input matInput type="text" [(ngModel)]="newComment">
				<button *ngIf="newComment" matSuffix mat-icon-button aria-label="Clear" (click)="newComment=''">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<button mat-stroked-button color="primary" class="add-social-record-btn" (click)="addSocialRecord()">Add Social Record</button>
		</div>
	</div>
</div>
